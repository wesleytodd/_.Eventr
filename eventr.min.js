/* _.Eventr | Version 0.3 | http://wesleytodd.com */
(function(){var a,b;a={on:function(c,e){if(!_.isObject(c)&&!_.isFunction(e)){return this}var d=this;if(_.isObject(c)){_.each(c,function(g,h){d.on(h,g)})}else{if(_.isString(c)){c=c.split(/\s+/);if(c.length>1){_.each(c,function(f){d.on(f,e)})}else{c=c[0];d._events=d._events||{};d._events[c]=d._events[c]||[];d._events[c].push(e)}}}return d},off:function(d,f){var e=this;if(_.isUndefined(d)){delete e._events;return e}if(d&&e._events){if(e._events[d]){if(_.isUndefined(f)){delete e._events[d];return e}_.each(e._events[d],function(g){if(_.isEqual(g,f)){e._events[d].splice(e._events[d].indexOf(g),1)}});if(_.isEmpty(e._events[d])){delete e._events[d]}return e}var c=d.match(/\.([^.]+)$/g);_.each(e._events,function(g,h){match=h.indexOf(c);if(match!=-1){if(_.isUndefined(f)){delete e._events[h];return e}_.each(g,function(i){if(_.isEqual(i,f)){e.off(h,f)}})}})}return e},trigger:function(d){var e=this,c=Array.prototype.slice.call(arguments,1);if(_.isUndefined(d)||_.isUndefined(e._events)){return e}if(d.indexOf(".")!==-1&&!_.isUndefined(e._events[d])){_.each(e._events[d],function(g){g.apply(e,c)})}_.each(e._events,function(h,i){var g=i.match(/^([^.]+)/g);if(g&&g[0]==d){_.each(e._events[i],function(j){j.apply(e,c)})}});return e}};b=function(f,e,c){var d=_.clone(a);if(!_.isUndefined(e)){d[e.on]=a.on;d[e.off]=a.off;d[e.trigger]=a.trigger;delete d.on;delete d.off;delete d.trigger;if(_.isUndefined(c)||c==true){a=d}}return _.extend(f.prototype,d)};_.mixin({eventr:b})})();
