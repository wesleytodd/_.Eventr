/* _.Eventr | Version 0.1 | http://wesleytodd.com */
(function(){var a,b;a={on:function(c,e){if(!_.isObject(c)&&!_.isFunction(e)){return this}var d=this;if(_.isObject(c)){_.each(c,function(g,h){d.on(h,g)})}else{if(_.isString(c)){c=c.split(/\s+/);if(c.length>1){_.each(c,function(f){d.on(f,e)})}else{c=c[0];d._events=d._events||{};d._events[c]=d._events[c]||[];d._events[c].push(e)}}}return d},off:function(d,f){var e=this;if(_.isUndefined(d)){delete e._events;return e}if(d&&e._events){if(e._events[d]){if(_.isUndefined(f)){delete e._events[d];return e}_.each(e._events[d],function(g){if(_.isEqual(g,f)){e._events[d].splice(e._events[d].indexOf(g),1)}});if(_.isEmpty(e._events[d])){delete e._events[d]}return e}var c=d.match(/\.([^.]+)$/g);_.each(e._events,function(g,h){match=h.indexOf(c);if(match!=-1){if(_.isUndefined(f)){delete e._events[h];return e}_.each(g,function(i){if(_.isEqual(i,f)){e.off(h,f)}})}})}return e},trigger:function(c){var d=this;if(_.isUndefined(c)||_.isUndefined(d._events)){return d}if(!_.isUndefined(d._events[c])){_.each(d._events[c],function(e){e.apply(d,Array.prototype.slice.call(arguments,1))})}else{_.each(d._events,function(f,h){var g=h.match(/^([^.]+)/g);if(g.length==1&&g[0]==c){d.trigger(h,Array.prototype.slice.call(arguments,1))}})}return d}};b=function(d,c){if(!_.isUndefined(c)){a[c.on]=a.on;a[c.off]=a.off;a[c.trigger]=a.trigger;delete a.on;delete a.off;delete a.trigger}return _.extend(d.prototype,a)};_.mixin({eventr:b})})();
