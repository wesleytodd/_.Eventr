/* _.Eventr | Version 0.2 | http://wesleytodd.com */
(function(){var a,b,c;c=function(j,h,g){if(j==null){return}if(Array.prototype.forEach&&j.forEach===Array.prototype.forEach){j.forEach(h,g)}else{if(j.length===+j.length){for(var f=0,d=j.length;f<d;f++){if(h.call(g,j[f],f,j)==={}){return}}}else{for(var e in j){if(hasOwnProperty.call(j,e)){if(h.call(g,j[e],e,j)==={}){return}}}}}};a={on:function(d,f){if(typeof d!="object"&&typeof f!="function"){return this}var e=this;if(typeof d=="object"){c(d,function(g,h){e.on(h,g)})}else{if(typeof d=="string"){d=d.split(/\s+/);if(d.length>1){c(d,function(g){e.on(g,f)})}else{d=d[0];e._events=e._events||{};e._events[d]=e._events[d]||[];e._events[d].push(f)}}}return e},off:function(e,g){var f=this;if(typeof e=="undefined"){delete f._events;return f}if(e&&f._events){if(f._events[e]){if(typeof g=="undefined"){delete f._events[e];return f}c(f._events[e],function(h){if(h==g){f._events[e].splice(f._events[e].indexOf(h),1)}});if(f._events[e].length==0){delete f._events[e]}return f}var d=e.match(/\.([^.]+)$/g);c(f._events,function(h,i){match=i.indexOf(d);if(match!=-1){if(typeof g=="undefined"){delete f._events[i];return f}c(h,function(j){if(j=g){f.off(i,g)}})}})}return f},trigger:function(e){var f=this,d=Array.prototype.slice.call(arguments,1);if(typeof e=="undefined"||typeof f._events=="undefined"){return f}if(e.indexOf(".")!==-1&&typeof f._events[e]!="undefined"){c(f._events[e],function(g){g.apply(f,d)})}c(f._events,function(h,i){var g=i.match(/^([^.]+)/g);if(g&&g[0]==e){c(f._events[i],function(j){j.apply(f,d)})}});return f}};window.eventr=function(e,d){if(typeof d!="undefined"){a[d.on]=a.on;a[d.off]=a.off;a[d.trigger]=a.trigger;delete a.on;delete a.off;delete a.trigger}for(var f in a){e.prototype[f]=a[f]}return e}})();